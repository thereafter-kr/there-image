<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>There Image â€” thereafter</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Pretendard:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ===== RESET & BASE ===== */
*{margin:0;padding:0;box-sizing:border-box}
:root{
  /* í™ˆí˜ì´ì§€ ì‹œìŠ¤í…œ ì„¹ì…˜ê³¼ ë™ì¼ */
  --bg:#8e8675;--card:#D8D3BC;--card-h:#E0DCCA;--border:#a89f8a;
  --text:#2a2a2a;--sub:#4a4a4a;--mute:#5A5845;
  --gold:#E8913A;--gold-h:#d47e28;--silver:#5A5845;--bronze:#7A7862;
  --radius:8px;--transition:0.3s ease;
}

/* ===== PASSWORD GATE ===== */
#gate{
  position:fixed;inset:0;z-index:9999;
  background:#8e8675;
  display:flex;align-items:center;justify-content:center;padding:20px;
}
#gate.hidden{display:none}
.gate-box{
  background:#f5f1e8;border-radius:16px;padding:48px 40px;
  max-width:380px;width:100%;text-align:center;
  box-shadow:0 8px 32px rgba(42,37,32,0.15);
}
.gate-box .gate-brand{font-size:11px;letter-spacing:3px;color:#7a7264;text-transform:uppercase;margin-bottom:8px}
.gate-box h1{font-size:22px;font-weight:700;color:#2a2520;margin-bottom:4px}
.gate-box .gate-desc{font-size:13px;color:#7a7264;margin-bottom:32px}
.gate-box input{
  width:100%;padding:14px 16px;border:1.5px solid #a89f8a;
  border-radius:10px;font-size:15px;background:#ece5d5;
  color:#2a2520;outline:none;text-align:center;font-family:inherit;
}
.gate-box input:focus{border-color:#e8943a}
.gate-box input::placeholder{color:#7a7264}
.gate-box .gate-btn{
  width:100%;padding:14px;margin-top:14px;border:none;border-radius:10px;
  background:#e8943a;color:#f5f1e8;font-size:15px;font-weight:500;
  cursor:pointer;font-family:inherit;transition:background 0.2s;
}
.gate-box .gate-btn:hover{background:#d47e28}
.gate-box .gate-err{color:#c0392b;font-size:13px;margin-top:10px;min-height:18px}
html{scroll-behavior:smooth}
body{
  background:var(--bg);color:var(--text);
  font-family:'Pretendard','Inter',system-ui,sans-serif;
  line-height:1.6;min-height:100vh;
  padding-bottom:80px;
}
@media(min-width:769px){body{padding-bottom:0}}

/* ===== HEADER ===== */
header{
  text-align:center;padding:32px 16px 0;
  border-bottom:1px solid var(--border);
}
header h1{font-size:1.8rem;font-weight:700;color:var(--text);letter-spacing:0.05em}
header .sub{font-size:0.8rem;color:var(--mute);margin-top:2px;letter-spacing:0.1em;font-weight:300}

/* ===== NAV TABS ===== */
nav{
  display:flex;gap:0;overflow-x:auto;
  border-bottom:1px solid var(--border);
  background:var(--bg);
  position:sticky;top:0;z-index:100;
}
@media(max-width:768px){
  nav{
    position:fixed;bottom:0;top:auto;left:0;right:0;
    border-bottom:none;border-top:1px solid var(--border);
    z-index:200;
  }
  body{padding-bottom:64px}
}
nav button{
  flex:1;padding:14px 8px;background:none;border:none;
  color:var(--sub);font-size:0.78rem;font-weight:500;cursor:pointer;
  transition:color var(--transition),border-color var(--transition);
  border-bottom:2px solid transparent;
  white-space:nowrap;font-family:inherit;
}
nav button.active{color:var(--text);border-bottom-color:var(--gold);font-weight:600}
nav button:hover{color:var(--text)}
@media(max-width:768px){
  nav button{border-bottom:none;border-top:2px solid transparent;padding:10px 4px;font-size:0.7rem}
  nav button{color:#7A7862}
  nav button.active{color:var(--text);border-top-color:var(--gold);font-weight:600}
}

/* ===== SECTIONS ===== */
.tab-content{display:none;padding:24px 16px;max-width:960px;margin:0 auto;animation:fadeIn 0.3s ease}
.tab-content.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

/* ===== FILTER BAR ===== */
.filter-bar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:20px}
.filter-btn{
  padding:6px 14px;border-radius:20px;border:1px solid var(--border);
  background:transparent;color:var(--sub);font-size:0.75rem;cursor:pointer;
  transition:all var(--transition);font-family:inherit;
}
.filter-btn:hover{border-color:var(--gold);color:var(--text)}
.filter-btn.active{background:var(--gold);color:#fff;border-color:var(--gold);font-weight:600}

/* ===== CARDS ===== */
.card-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
@media(max-width:640px){.card-grid{grid-template-columns:1fr}}
.card{
  background:var(--card);border:1px solid var(--border);border-radius:var(--radius);
  padding:20px;cursor:pointer;transition:all var(--transition);position:relative;
}
.card:hover{transform:translateY(-2px);background:var(--card-h);border-color:var(--border);box-shadow:0 8px 24px rgba(0,0,0,0.12)}
.card .num{font-size:1.4rem;margin-right:8px;opacity:0.7}
.card .name{font-size:1rem;font-weight:600;color:var(--text)}
.card .structure{font-size:0.8rem;color:var(--sub);margin-top:6px}
.badge{
  display:inline-block;padding:2px 8px;border-radius:10px;font-size:0.65rem;font-weight:700;
  margin-left:8px;vertical-align:middle;
}
.badge.tier-a{background:rgba(232,145,58,0.15);color:#c67a28;border:1px solid #E8913A}
.badge.tier-b{background:rgba(90,88,69,0.12);color:#4a4235;border:1px solid #5A5845}
.badge.tier-c{background:rgba(122,120,98,0.12);color:#4a4235;border:1px solid #7A7862}
.stars{font-size:0.7rem;margin-left:4px}

/* ===== ACCORDION DETAIL ===== */
.card-detail{
  max-height:0;overflow:hidden;transition:max-height 0.4s ease,padding 0.3s ease;
  border-top:0 solid var(--border);margin-top:0;
}
.card.open .card-detail{max-height:2000px;padding-top:16px;margin-top:12px;border-top-width:1px}
.detail-section{margin-bottom:14px}
.detail-label{font-size:0.7rem;color:#c67a28;font-weight:600;text-transform:uppercase;letter-spacing:0.08em;margin-bottom:4px}
.detail-text{font-size:0.82rem;color:var(--sub);line-height:1.7}
.detail-code{
  background:#c4b99f;border:1px solid var(--border);border-radius:6px;
  padding:10px 14px;font-family:'Fira Code',monospace;font-size:0.78rem;color:#2a2520;
  word-break:break-all;margin-top:4px;
}
.tag{
  display:inline-block;padding:3px 10px;border-radius:12px;font-size:0.68rem;
  background:rgba(232,145,58,0.1);color:#c67a28;border:1px solid rgba(232,145,58,0.25);
  margin:3px 4px 3px 0;
}

/* ===== TAB2: FINDER ===== */
.finder-mode{display:flex;gap:8px;margin-bottom:24px}
.finder-mode button{
  flex:1;padding:12px;border-radius:var(--radius);border:1px solid var(--border);
  background:var(--card);color:var(--sub);cursor:pointer;font-family:inherit;
  font-size:0.85rem;font-weight:500;transition:all var(--transition);
}
.finder-mode button.active{border-color:var(--gold);color:#c67a28;background:rgba(232,145,58,0.08)}

.flow-box{
  background:var(--card);border:1px solid var(--border);border-radius:var(--radius);
  padding:28px 24px;text-align:center;
}
.flow-q{font-size:0.75rem;color:var(--mute);margin-bottom:8px}
.flow-question{font-size:1.1rem;font-weight:600;margin-bottom:24px;line-height:1.5}
.flow-btns{display:flex;gap:12px;justify-content:center}
.flow-btns button{
  padding:12px 36px;border-radius:var(--radius);border:1px solid var(--border);
  background:transparent;color:var(--text);cursor:pointer;font-family:inherit;
  font-size:0.9rem;font-weight:500;transition:all var(--transition);
}
.flow-btns button.yes{border-color:var(--gold);color:var(--gold)}
.flow-btns button.yes:hover{background:var(--gold);color:#fff}
.flow-btns button.no:hover{background:#c4b99f}

.result-card{
  background:var(--card);border:1px solid var(--gold);border-radius:var(--radius);
  padding:24px;margin-top:20px;
}
.result-card .rc-title{font-size:1.1rem;font-weight:700;color:#c67a28;margin-bottom:8px}
.result-card .rc-desc{font-size:0.85rem;color:var(--sub);margin-bottom:16px;line-height:1.6}
.go-gen-btn{
  padding:10px 20px;background:var(--gold);color:#fff;border:none;border-radius:var(--radius);
  font-weight:600;cursor:pointer;font-family:inherit;font-size:0.85rem;transition:all var(--transition);
}
.go-gen-btn:hover{background:var(--gold-h)}

.type-select{
  width:100%;padding:12px 16px;background:var(--card);border:1px solid var(--border);
  border-radius:var(--radius);color:var(--text);font-family:inherit;font-size:0.9rem;
  cursor:pointer;appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%237a7265'%3E%3Cpath d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat:no-repeat;background-position:right 14px center;
}
.type-select option{background:var(--card);color:var(--text)}

.rec-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;margin-top:16px}
.rec-card{
  background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:20px;
}
.rec-rank{font-size:0.7rem;color:#c67a28;font-weight:600;margin-bottom:6px}
.rec-name{font-size:1rem;font-weight:600;margin-bottom:6px}
.rec-reason{font-size:0.8rem;color:var(--sub);margin-bottom:14px;line-height:1.5}

/* ===== TAB3: PLAN ===== */
.status-summary{
  display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap;
}
.status-item{
  background:var(--card);border:1px solid var(--border);border-radius:var(--radius);
  padding:12px 20px;text-align:center;flex:1;min-width:100px;
}
.status-num{font-size:1.6rem;font-weight:700}
.status-label{font-size:0.7rem;color:var(--sub);margin-top:2px}
.status-item.done .status-num{color:#5a8a4a}
.status-item.wip .status-num{color:var(--gold)}
.status-item.todo .status-num{color:var(--mute)}

.dist-chart{margin-bottom:24px}
.dist-row{display:flex;align-items:center;margin-bottom:6px}
.dist-label{width:100px;font-size:0.75rem;color:var(--sub);flex-shrink:0}
.dist-bar-wrap{flex:1;height:18px;background:#c4b99f;border-radius:4px;overflow:hidden}
.dist-bar{height:100%;border-radius:4px;transition:width 0.5s ease;display:flex;align-items:center;justify-content:flex-end;padding-right:6px}
.dist-bar span{font-size:0.6rem;font-weight:700;color:#fff}

.plan-table{width:100%;border-collapse:collapse}
.plan-table th{
  text-align:left;padding:10px 12px;font-size:0.7rem;color:var(--mute);
  border-bottom:1px solid var(--border);font-weight:600;text-transform:uppercase;
  letter-spacing:0.05em;white-space:nowrap;
}
.plan-table td{
  padding:10px 12px;font-size:0.8rem;border-bottom:1px solid var(--border);
  color:var(--sub);vertical-align:middle;
}
.plan-table tr:hover td{background:rgba(212,120,47,0.05)}
.plan-table .insight-name{color:var(--text);font-weight:500}
@media(max-width:768px){
  .plan-table-wrap{display:none}
  .plan-cards{display:block}
}
@media(min-width:769px){
  .plan-cards{display:none}
}
.plan-card{
  background:var(--card);border:1px solid var(--border);border-radius:var(--radius);
  padding:16px;margin-bottom:10px;
}
.plan-card .pc-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.plan-card .pc-name{font-weight:600;font-size:0.9rem}
.plan-card .pc-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.plan-card .pc-item{font-size:0.75rem;color:var(--sub)}
.plan-card .pc-item span{color:var(--text)}

/* ===== TAB4: GENERATOR ===== */
.gen-motto{
  text-align:center;font-size:1rem;color:#2a2520;font-weight:500;
  margin-bottom:28px;padding:16px;border:1px solid var(--border);
  border-radius:var(--radius);background:var(--card);font-style:italic;
}
.step{margin-bottom:24px}
.step-header{
  display:flex;align-items:center;gap:10px;margin-bottom:12px;
}
.step-num{
  width:28px;height:28px;border-radius:50%;background:var(--gold);color:#fff;
  display:flex;align-items:center;justify-content:center;font-size:0.75rem;font-weight:700;flex-shrink:0;
}
.step-title{font-size:0.9rem;font-weight:600}

.tech-select-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
@media(max-width:480px){.tech-select-grid{grid-template-columns:1fr}}
.tech-opt{
  padding:12px;border:1px solid var(--border);border-radius:var(--radius);
  cursor:pointer;transition:all var(--transition);background:var(--card);
}
.tech-opt:hover{border-color:var(--border)}
.tech-opt.selected{border-color:var(--gold);background:rgba(232,145,58,0.1)}
.tech-opt .to-num{font-size:1.1rem;margin-right:6px}
.tech-opt .to-name{font-size:0.85rem;font-weight:500}
.tech-opt .to-tier{float:right}

.gen-input{
  width:100%;padding:12px 16px;background:var(--card);border:1px solid var(--border);
  border-radius:var(--radius);color:var(--text);font-family:inherit;font-size:0.9rem;
}
.gen-input:focus{outline:none;border-color:var(--gold)}
.gen-input::placeholder{color:var(--mute)}

.option-group{display:flex;gap:8px;flex-wrap:wrap}
.opt-btn{
  padding:8px 16px;border:1px solid var(--border);border-radius:var(--radius);
  background:var(--card);color:var(--sub);cursor:pointer;font-family:inherit;
  font-size:0.8rem;transition:all var(--transition);
}
.opt-btn.selected{border-color:var(--gold);color:#c67a28;background:rgba(232,145,58,0.1)}
.opt-btn:hover{border-color:var(--border)}

.generate-btn{
  width:100%;padding:16px;background:var(--gold);color:#fff;border:none;
  border-radius:var(--radius);font-size:1rem;font-weight:700;cursor:pointer;
  font-family:inherit;transition:all var(--transition);margin-top:8px;
}
.generate-btn:hover{background:var(--gold-h)}
.generate-btn:disabled{opacity:0.4;cursor:not-allowed}

.prompt-result{
  background:#c4b99f;border:1px solid var(--border);border-radius:var(--radius);
  padding:20px;margin-top:20px;position:relative;display:none;
}
.prompt-result.show{display:block}
.prompt-result pre{
  white-space:pre-wrap;word-break:break-all;font-size:0.82rem;line-height:1.8;
  color:#2a2520;font-family:'Fira Code',monospace;
}
.copy-btn{
  position:absolute;top:12px;right:12px;padding:6px 14px;
  background:var(--gold);color:#fff;border:none;border-radius:6px;
  font-size:0.72rem;font-weight:600;cursor:pointer;font-family:inherit;
}
.copy-btn:hover{background:var(--gold-h)}

.checklist{margin-top:24px}
.checklist h3{font-size:0.85rem;font-weight:600;margin-bottom:12px;color:var(--text)}
.check-item{
  display:flex;align-items:center;gap:8px;padding:6px 0;
  font-size:0.8rem;color:var(--sub);
}
.check-item input[type=checkbox]{accent-color:var(--gold);width:16px;height:16px;cursor:pointer}

/* ===== FOOTER ===== */
footer{
  text-align:center;padding:40px 16px;font-size:0.72rem;color:var(--mute);
  border-top:1px solid var(--border);
}

/* ===== TOAST ===== */
#toast{
  position:fixed;bottom:90px;left:50%;transform:translateX(-50%) translateY(20px);
  background:var(--gold);color:#fff;padding:10px 24px;border-radius:20px;
  font-size:0.82rem;font-weight:600;opacity:0;transition:all 0.3s ease;
  z-index:999;pointer-events:none;
}
#toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
@media(min-width:769px){#toast{bottom:40px}}

/* ===== UTIL ===== */
.mt-8{margin-top:8px}.mt-16{margin-top:16px}.mt-24{margin-top:24px}
.mb-16{margin-bottom:16px}
.hidden{display:none!important}
</style>
</head>
<body>

<div id="gate">
  <div class="gate-box">
    <div class="gate-brand">THEREAFTER</div>
    <h1>There Image</h1>
    <p class="gate-desc">ì´ë¯¸ì§€ ìƒì‚° ì‹œìŠ¤í…œ</p>
    <input type="password" id="gate-pw" placeholder="ë¹„ë°€ë²ˆí˜¸" autofocus>
    <button class="gate-btn" onclick="tryGate()">ì ‘ì†</button>
    <p class="gate-err" id="gate-err"></p>
  </div>
</div>

<header>
  <h1>There Image</h1>
  <p class="sub">thereafter</p>
</header>

<nav id="nav">
  <button class="active" onclick="switchTab(0)">ê¸°ë²• ì‚¬ì „</button>
  <button onclick="switchTab(1)">ê¸°ë²• ì„ íƒê¸°</button>
  <button onclick="switchTab(2)">ê¸°íší‘œ</button>
  <button onclick="switchTab(3)">í”„ë¡¬í”„íŠ¸ ìƒì„±ê¸°</button>
</nav>

<!-- ==================== TAB 1: ê¸°ë²• ì‚¬ì „ ==================== -->
<section class="tab-content active" id="tab0">
  <div class="filter-bar" id="tier-filter"></div>
  <div class="card-grid" id="tech-grid"></div>
</section>

<!-- ==================== TAB 2: ê¸°ë²• ì„ íƒê¸° ==================== -->
<section class="tab-content" id="tab1">
  <div class="finder-mode">
    <button class="active" onclick="setFinderMode('flow')">í”Œë¡œìš°ì°¨íŠ¸</button>
    <button onclick="setFinderMode('type')">ìœ í˜•ë³„ ì¶”ì²œ</button>
  </div>
  <div id="finder-flow">
    <div class="flow-box" id="flow-box"></div>
  </div>
  <div id="finder-type" class="hidden">
    <select class="type-select" id="type-select" onchange="onTypeSelect()">
      <option value="">ì¸ì‚¬ì´íŠ¸ ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”</option>
    </select>
    <div class="rec-cards" id="rec-cards"></div>
  </div>
</section>

<!-- ==================== TAB 3: ê¸°íší‘œ ==================== -->
<section class="tab-content" id="tab2">
  <div class="status-summary" id="status-summary"></div>
  <div class="filter-bar" id="plan-filter"></div>
  <div class="dist-chart" id="dist-chart"></div>
  <div class="plan-table-wrap"><table class="plan-table" id="plan-table"></table></div>
  <div class="plan-cards" id="plan-cards"></div>
</section>

<!-- ==================== TAB 4: í”„ë¡¬í”„íŠ¸ ìƒì„±ê¸° ==================== -->
<section class="tab-content" id="tab3">
  <div class="gen-motto">"ìˆ˜ìƒì‘ì€ ë¶„ìœ„ê¸°ê°€ ì•„ë‹ˆë¼ íŠ¸ë¦­ì´ë‹¤"</div>

  <div class="step">
    <div class="step-header"><div class="step-num">1</div><div class="step-title">ê¸°ë²• ì„ íƒ</div></div>
    <div class="tech-select-grid" id="gen-tech-grid"></div>
  </div>

  <div class="step">
    <div class="step-header"><div class="step-num">2</div><div class="step-title">A (ì˜¤ë¸Œì œ) ì…ë ¥</div></div>
    <input class="gen-input" id="inputA" placeholder="ì˜ˆ: ì»¤í”¼ì”, ìš´ë™í™”, ì¢…ì´ë´‰íˆ¬...">
  </div>

  <div class="step">
    <div class="step-header"><div class="step-num">3</div><div class="step-title">B (ë³€í™˜) ì…ë ¥</div></div>
    <input class="gen-input" id="inputB" placeholder="ì˜ˆ: ìš©ì•”, êµ¬ë¦„, ìœ ë¦¬, ìˆ²...">
  </div>

  <div class="step">
    <div class="step-header"><div class="step-num">4</div><div class="step-title">ì˜µì…˜ ì„ íƒ</div></div>
    <div class="mb-16">
      <div class="detail-label">ë°°ê²½ìƒ‰</div>
      <div class="option-group" id="bg-opts">
        <button class="opt-btn selected" onclick="selectOpt('bg','dark',this)">Dark</button>
        <button class="opt-btn" onclick="selectOpt('bg','white',this)">White</button>
        <button class="opt-btn" onclick="selectOpt('bg','custom',this)">Custom</button>
      </div>
      <input class="gen-input mt-8 hidden" id="bg-custom" placeholder="ë°°ê²½ìƒ‰ ì…ë ¥ (ì˜ˆ: deep navy, warm beige)">
    </div>
    <div class="mb-16">
      <div class="detail-label">ë¹„ìœ¨</div>
      <div class="option-group" id="ar-opts">
        <button class="opt-btn selected" onclick="selectOpt('ar','3:4',this)">3:4</button>
        <button class="opt-btn" onclick="selectOpt('ar','16:9',this)">16:9</button>
        <button class="opt-btn" onclick="selectOpt('ar','1:1',this)">1:1</button>
        <button class="opt-btn" onclick="selectOpt('ar','2:3',this)">2:3</button>
      </div>
    </div>
    <div>
      <div class="detail-label">ìŠ¬ë¼ì´ë“œ</div>
      <div class="option-group" id="slide-opts">
        <button class="opt-btn selected" onclick="selectOpt('slide','03P',this)">03P</button>
        <button class="opt-btn" onclick="selectOpt('slide','05P',this)">05P</button>
        <button class="opt-btn" onclick="selectOpt('slide','07P',this)">07P</button>
      </div>
    </div>
  </div>

  <div class="step">
    <div class="step-header"><div class="step-num">5</div><div class="step-title">í”„ë¡¬í”„íŠ¸ ìƒì„±</div></div>
    <button class="generate-btn" id="gen-btn" onclick="generatePrompt()">í”„ë¡¬í”„íŠ¸ ìƒì„±í•˜ê¸°</button>
  </div>

  <div class="prompt-result" id="prompt-result">
    <button class="copy-btn" onclick="copyPrompt()">ë³µì‚¬</button>
    <pre id="prompt-text"></pre>
  </div>

  <div class="checklist" id="checklist"></div>
</section>

<footer>
  &copy; 2025 thereafter. ë°œê²¬ì€ There, ì‹¤í–‰ì€ After
</footer>

<div id="toast"></div>

<script>
// ===================================================================
// DATA: 10 TECHNIQUES
// ===================================================================
const TECHNIQUES = [
  {
    id:1, num:'â‘ ', name:'ì˜¤ë¸Œì œ í•©ì„±', tier:'A', stars:5,
    structure:'Aì™€ B ë‘ ì˜¤ë¸Œì œë¥¼ í•˜ë‚˜ì˜ ë¬¼ì²´ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ í•©ì„±',
    desc:'ë‘ ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ ì˜¤ë¸Œì œë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ í•˜ë‚˜ë¡œ í•©ì¹œë‹¤. ì»¤í”¼ì”ì´ í™”ì‚°ì´ ë˜ê³ , ìš´ë™í™”ê°€ ë„ì‹œê°€ ëœë‹¤. ê°€ì¥ ì§ê´€ì ì´ë©´ì„œ ê°•ë ¥í•œ ì„íŒ©íŠ¸ë¥¼ ë§Œë“œëŠ” ê¸°ë²•.',
    successCondition:'ë‘ ì˜¤ë¸Œì œì˜ ê²½ê³„ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ë…¹ì•„ë“¤ì–´, "ì›ë˜ í•˜ë‚˜ì˜€ë˜ ê²ƒì²˜ëŸ¼" ë³´ì—¬ì•¼ í•œë‹¤',
    failRisk:'ë‹¨ìˆœ í¬í† ìƒµ í•©ì„±ì²˜ëŸ¼ ë³´ì´ë©´ ì‹¤íŒ¨. ì´ìŒìƒˆê°€ ë¶€ìì—°ìŠ¤ëŸ¬ìš°ë©´ ì•„ë§ˆì¶”ì–´ ì½œë¼ì£¼ê°€ ëœë‹¤',
    examples:['ì»¤í”¼ì” + í™”ì‚° = ì” ìœ„ì—ì„œ ìš©ì•”ì´ íë¥´ëŠ” ì»¤í”¼','ìš´ë™í™” + ë„ì‹œ = ì‹ ë°œ ë°‘ì°½ì´ ìŠ¤ì¹´ì´ë¼ì¸ìœ¼ë¡œ ë³€í™˜','ì¢…ì´ë´‰íˆ¬ + ìˆ² = ë´‰íˆ¬ë¥¼ ì—´ë©´ ìˆ²ì´ í¼ì³ì§'],
    promptKeywords:['seamlessly merging into','growing out of','transforming from A into B','hybrid object','organic fusion'],
    suitableTypes:['ë³¸ì§ˆë°˜ì „','ì´ì§ˆì ìœµí•©','ì¬í•´ì„/ë³€í™˜']
  },
  {
    id:2, num:'â‘¡', name:'ìŠ¤ì¼€ì¼ ë°˜ì „', tier:'A', stars:5,
    structure:'ê±°ëŒ€í•œ ê²ƒì„ ì‘ê²Œ, ì‘ì€ ê²ƒì„ ê±°ëŒ€í•˜ê²Œ í¬ê¸° ì—­ì „',
    desc:'ì¼ìƒì  í¬ê¸° ê´€ê³„ë¥¼ ë’¤ì§‘ì–´ ë‚¯ì„¤ìŒì„ ë§Œë“ ë‹¤. ì‚¬ëŒë³´ë‹¤ í° ì»¤í”¼ì”, ì†ë°”ë‹¥ ìœ„ì˜ ë¹Œë”©. ìŠ¤ì¼€ì¼ ì¶©ê²©ì´ ê³§ ì¸ì‚¬ì´íŠ¸ì˜ í˜ì´ ëœë‹¤.',
    successCondition:'ë¹„êµ ëŒ€ìƒì´ í•¨ê»˜ ë“±ì¥í•˜ì—¬ í¬ê¸° ëŒ€ë¹„ê°€ ê·¹ëª…í•´ì•¼ í•œë‹¤',
    failRisk:'ë¹„êµ ê¸°ì¤€ ì—†ì´ ë‹¨ë… ë°°ì¹˜í•˜ë©´ í¬ê¸° ë°˜ì „ì´ ëŠê»´ì§€ì§€ ì•ŠëŠ”ë‹¤',
    examples:['ì†ë°”ë‹¥ ìœ„ì˜ ì´ˆê³ ì¸µ ë¹Œë”©','ì‚¬ëŒë³´ë‹¤ í° ë™ì „ ì•ì— ì„œ ìˆëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ë§¨','ì»µ ì•ˆì— ë“¤ì–´ê°€ ìˆ˜ì˜í•˜ëŠ” ì‚¬ëŒ'],
    promptKeywords:['miniature','giant','tiny person next to massive','oversized','macro perspective of tiny'],
    suitableTypes:['ìŠ¤ì¼€ì¼/ê·œëª¨','ë³¸ì§ˆë°˜ì „','ìˆ¨ê²¨ì§„ê°€ì¹˜']
  },
  {
    id:3, num:'â‘¢', name:'ë¬¼ì§ˆ ë³€í™˜', tier:'A', stars:5,
    structure:'Aì˜ í˜•íƒœëŠ” ìœ ì§€í•˜ë˜ ì¬ì§ˆ/í…ìŠ¤ì²˜ë¥¼ Bë¡œ ì™„ì „ ë³€í™˜',
    desc:'ë¬¼ì²´ì˜ ì‹¤ë£¨ì—£ì€ ê·¸ëŒ€ë¡œì¸ë° ì¬ì§ˆì´ ì „í˜€ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ë°”ë€ë‹¤. ìœ ë¦¬ë¡œ ëœ ìš´ë™í™”, ìš©ì•”ìœ¼ë¡œ ëœ ì±…. í˜•íƒœì™€ ì¬ì§ˆì˜ ë¶ˆì¼ì¹˜ê°€ ì‹œê°ì  ê¸´ì¥ì„ ë§Œë“ ë‹¤.',
    successCondition:'ì›ë˜ í˜•íƒœê°€ ì¦‰ì‹œ ì¸ì‹ë˜ë©´ì„œë„ ì¬ì§ˆì˜ ì´ì§ˆê°ì´ ê°•ë ¬í•´ì•¼ í•œë‹¤',
    failRisk:'ì¬ì§ˆ ë³€í™˜ì´ ë¯¸ë¯¸í•˜ë©´ ê·¸ëƒ¥ ìƒ‰ìƒ ë³€ê²½ì²˜ëŸ¼ ë³´ì¸ë‹¤',
    examples:['ìœ ë¦¬ë¡œ ë§Œë“  ìš´ë™í™” (ë‚´ë¶€ êµ¬ì¡° íˆ¬ì‹œ)','ìš©ì•” ì¬ì§ˆì˜ ì±… (í‘œë©´ì—ì„œ ë¶ˆê½ƒ)','ëŒ€ë¦¬ì„ ì¬ì§ˆì˜ ì¢…ì´ì»µ'],
    promptKeywords:['made entirely of','texture of B on shape of A','material transformation','crystalline','molten'],
    suitableTypes:['ì¬í•´ì„/ë³€í™˜','ë³¸ì§ˆë°˜ì „','ìˆ¨ê²¨ì§„ê°€ì¹˜']
  },
  {
    id:4, num:'â‘£', name:'í•´ì²´ ì¬ì¡°ë¦½', tier:'B', stars:4,
    structure:'Aë¥¼ ì¡°ê°ë‚´ì–´ Bì˜ í˜•íƒœë¡œ ì¬êµ¬ì„±',
    desc:'í•˜ë‚˜ì˜ ì˜¤ë¸Œì œë¥¼ íŒŒí¸, ì…ì, ì¡°ê°ìœ¼ë¡œ ë¶„í•´í•œ ë’¤ ì „í˜€ ë‹¤ë¥¸ í˜•íƒœë¡œ ì¬ì¡°ë¦½í•œë‹¤. íŒŒê´´ì™€ ì°½ì¡°ê°€ í•œ í”„ë ˆì„ì— ê³µì¡´í•œë‹¤.',
    successCondition:'í•´ì²´ ì¤‘ì¸ ê³¼ì •ì´ í¬ì°©ë˜ì–´ì•¼ í•œë‹¤. ì™„ì „ í•´ì²´ë„ ì™„ì „ ì¡°ë¦½ë„ ì•„ë‹Œ "ì¤‘ê°„ ìˆœê°„"ì´ í•µì‹¬',
    failRisk:'ì™„ì „íˆ ë¶€ì„œì§„ ì”í•´ë§Œ ë³´ì´ë©´ íŒŒê´´ ì´ë¯¸ì§€ê°€ ë˜ê³ , ì™„ì„±ë˜ë©´ í‰ë²”í•œ ì˜¤ë¸Œì œê°€ ëœë‹¤',
    examples:['ìŠ¤ë§ˆíŠ¸í°ì´ ë‚˜ë¹„ ë–¼ë¡œ ë¶„í•´ë˜ëŠ” ìˆœê°„','ì±…ì˜ ê¸€ìë“¤ì´ ìƒˆ ë–¼ê°€ ë˜ì–´ ë‚ ì•„ê°€ëŠ” ì¥ë©´','ê±´ë¬¼ì´ ë ˆê³  ë¸”ë¡ìœ¼ë¡œ í•´ì²´/ì¬ì¡°ë¦½ë˜ëŠ” ê³¼ì •'],
    promptKeywords:['disintegrating into','exploding into particles of','reassembling from fragments','deconstructing','morphing pieces'],
    suitableTypes:['ì¬í•´ì„/ë³€í™˜','ì´ì§ˆì ìœµí•©','ê´€ì ì „í™˜']
  },
  {
    id:5, num:'â‘¤', name:'ì‹œì  ì „í™˜', tier:'B', stars:4,
    structure:'ì˜ˆìƒì¹˜ ëª»í•œ ì•µê¸€/ì‹œì ì—ì„œ í¬ì°©í•˜ì—¬ ìƒˆë¡œìš´ ì˜ë¯¸ ë¶€ì—¬',
    desc:'ìœ„ì—ì„œ, ì•„ë˜ì—ì„œ, ë‚´ë¶€ì—ì„œ, ë‹¨ë©´ì—ì„œ. ê°™ì€ ëŒ€ìƒë„ ì‹œì ì´ ë°”ë€Œë©´ ì „í˜€ ë‹¤ë¥¸ ì´ì•¼ê¸°ê°€ ëœë‹¤.',
    successCondition:'í•œ ëˆˆì— "ì´ê±´ â—‹â—‹ë¥¼ â—‹â—‹ì—ì„œ ë³¸ ê²ƒ"ì´ë¼ê³  ì•Œì•„ì±Œ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤',
    failRisk:'ë„ˆë¬´ ì¶”ìƒì ì´ë©´ ë¬´ì—‡ì„ ë³´ëŠ”ì§€ ëª¨ë¥´ê³ , ë„ˆë¬´ í‰ë²”í•˜ë©´ ìƒˆë¡œìš¸ ê²Œ ì—†ë‹¤',
    examples:['ì»¤í”¼ì”ì„ ì •í™•íˆ ìœ„ì—ì„œ ë‚´ë ¤ë‹¤ë³¸ ë·° (ìš°ì£¼ì²˜ëŸ¼ ë³´ì„)','ì‹ ë°œ ë°‘ì°½ì˜ ê·¹ë‹¨ì  ë‹¨ë©´ë„','ë¹Œë”©ì„ ê°œë¯¸ ì‹œì ì—ì„œ ì˜¬ë ¤ë‹¤ë³¸ ì•µê¸€'],
    promptKeywords:['birds eye view','cross section','worms eye view','inside looking out','isometric cutaway'],
    suitableTypes:['ê´€ì ì „í™˜','ì¼ìƒì†ë°œê²¬','ìˆ¨ê²¨ì§„ê°€ì¹˜']
  },
  {
    id:6, num:'â‘¥', name:'ì‹œê°„ ëŒ€ë¹„', tier:'B', stars:4,
    structure:'ê°™ì€ ëŒ€ìƒì˜ ê³¼ê±°/í˜„ì¬/ë¯¸ë˜ë¥¼ í•œ í”„ë ˆì„ì— ëŒ€ë¹„',
    desc:'ì‹œê°„ì˜ íë¦„ì„ í•œ ì¥ì˜ ì´ë¯¸ì§€ì— ì••ì¶•í•œë‹¤. ì™¼ìª½ì€ ê³¼ê±°, ì˜¤ë¥¸ìª½ì€ ë¯¸ë˜. í˜¹ì€ í•˜ë‚˜ì˜ ë¬¼ì²´ê°€ ì‹œê°„ì— ë”°ë¼ ë³€í•˜ëŠ” ê³¼ì •ì„ ë³´ì—¬ì¤€ë‹¤.',
    successCondition:'ì‹œê°„ íë¦„ì˜ ë°©í–¥ê³¼ ëŒ€ë¹„ê°€ ëª…í™•í•´ì•¼ í•œë‹¤',
    failRisk:'ì‹œê°„ ê°œë…ì´ ë¶ˆë¶„ëª…í•˜ë©´ ê·¸ëƒ¥ ë‘ ê°œì˜ ë‹¤ë¥¸ ë¬¼ê±´ì²˜ëŸ¼ ë³´ì¸ë‹¤',
    examples:['ì™¼ìª½: ë¬˜ëª© â†’ ì˜¤ë¥¸ìª½: ê±°ëª© (ê°™ì€ ë‚˜ë¬´ì˜ ì‹œê°„)','ìƒˆ ìš´ë™í™”ê°€ ì ì§„ì ìœ¼ë¡œ ë‹³ì•„ê°€ëŠ” ì—°ì† í”„ë ˆì„','ë¹ˆ ë…¸íŠ¸ë¶ì´ ë¹¼ê³¡í•œ ë…¸íŠ¸ê°€ ë˜ëŠ” ê³¼ì •'],
    promptKeywords:['time lapse in single frame','before and after','aging process','evolution of','progression from new to worn'],
    suitableTypes:['ë³¸ì§ˆë°˜ì „','ê´€ì ì „í™˜','ìŠ¤ì¼€ì¼/ê·œëª¨']
  },
  {
    id:7, num:'â‘¦', name:'ê³µê°„ ì™œê³¡', tier:'C', stars:3,
    structure:'ë¬¼ë¦¬ ë²•ì¹™ì„ ë¬´ì‹œí•œ ë¶ˆê°€ëŠ¥í•œ ê³µê°„ êµ¬ì„±',
    desc:'ì—ì…”ì˜ ê³„ë‹¨ì²˜ëŸ¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥í•œ ê³µê°„ì„ ë§Œë“ ë‹¤. ì¤‘ë ¥ ë¬´ì‹œ, ì°¨ì› ì™œê³¡, ë¶ˆê°€ëŠ¥í•œ êµ¬ì¡°. ì´ˆí˜„ì‹¤ì£¼ì˜ì˜ í˜.',
    successCondition:'"ë¶ˆê°€ëŠ¥í•œë° ê·¸ëŸ´ë“¯í•˜ë‹¤"ëŠ” ëŠë‚Œì´ ë“¤ì–´ì•¼ í•œë‹¤. í¬í† ë¦¬ì–¼í•˜ë˜ ë¹„í˜„ì‹¤ì ',
    failRisk:'ë„ˆë¬´ ì¶”ìƒì ì´ë©´ ë©”ì‹œì§€ ì „ë‹¬ì´ ì•ˆ ë˜ê³ , ë„ˆë¬´ ì‚¬ì‹¤ì ì´ë©´ ì™œê³¡ì´ ì•ˆ ëŠê»´ì§„ë‹¤',
    examples:['ì—ì…”ì‹ ë¶ˆê°€ëŠ¥í•œ ê³„ë‹¨ ìœ„ì˜ ìƒì ','ë¬¼ì´ ìœ„ë¡œ íë¥´ëŠ” ë¶„ìˆ˜ëŒ€','ì•ˆê³¼ ë°–ì´ ë’¤ì§‘íŒ ë°©'],
    promptKeywords:['impossible architecture','Escher-like','gravity defying','paradoxical space','non-euclidean'],
    suitableTypes:['ê´€ì ì „í™˜','ì´ì§ˆì ìœµí•©','ì¬í•´ì„/ë³€í™˜']
  },
  {
    id:8, num:'â‘§', name:'ë¯¸ë‹ˆë©€ ìƒì§•', tier:'C', stars:3,
    structure:'í•µì‹¬ í•˜ë‚˜ë§Œ ë‚¨ê¸°ê³  ëª¨ë“  ìš”ì†Œë¥¼ ì œê±°í•œ ê·¹ë‹¨ì  ì—¬ë°±',
    desc:'90%ë¥¼ ë¹„ìš°ê³  10%ì˜ í•µì‹¬ë§Œ ë‚¨ê¸´ë‹¤. ì—¬ë°±ì´ ê³§ ë©”ì‹œì§€ê°€ ë˜ëŠ” ê·¹ë‹¨ì  ë¯¸ë‹ˆë©€ë¦¬ì¦˜. ê´‘í™œí•œ ë¹ˆ ê³µê°„ì— ë‹¨ í•˜ë‚˜ì˜ ì˜¤ë¸Œì œ.',
    successCondition:'ë‚¨ê²¨ì§„ í•˜ë‚˜ì˜ ìš”ì†Œê°€ ì¶©ë¶„íˆ ê°•ë ¥í•˜ì—¬ ì—¬ë°±ì„ ì§€ë°°í•´ì•¼ í•œë‹¤',
    failRisk:'í•µì‹¬ ì˜¤ë¸Œì œê°€ ì•½í•˜ë©´ ê·¸ëƒ¥ ë¹ˆ ì´ë¯¸ì§€, í—ˆì „í•œ ì‚¬ì§„ì´ ëœë‹¤',
    examples:['ìˆœë°± ê³µê°„ì— ë†“ì¸ ë‹¨ í•˜ë‚˜ì˜ ë¹¨ê°„ ì˜ì','ê±°ëŒ€í•œ ì–´ë‘  ì† ì‘ì€ ë¶ˆë¹› í•˜ë‚˜','í…… ë¹ˆ ì‚¬ë§‰ í•œê°€ìš´ë° ë¬¸ í•˜ë‚˜'],
    promptKeywords:['vast negative space','single object in emptiness','minimalist composition','solitary','stark contrast with void'],
    suitableTypes:['ë¯¸ë‹ˆë©€/ìƒì§•','ë³¸ì§ˆë°˜ì „','ìˆ¨ê²¨ì§„ê°€ì¹˜']
  },
  {
    id:9, num:'â‘¨', name:'ì´ì§ˆì  ë³‘ì¹˜', tier:'B', stars:4,
    structure:'ì „í˜€ ì–´ìš¸ë¦¬ì§€ ì•ŠëŠ” Aì™€ Bë¥¼ ê°™ì€ ê³µê°„ì— ë‚˜ë€íˆ ë°°ì¹˜',
    desc:'í•©ì„±í•˜ì§€ ì•Šê³ , ë³€í™˜í•˜ì§€ ì•Šê³ , ê·¸ì € ë‚˜ë€íˆ ë‘”ë‹¤. ê·¸ ë¶€ì¡°í™”ê°€ ë©”ì‹œì§€ê°€ ëœë‹¤. ì‚¬ë§‰ ìœ„ì˜ ì„œí•‘ë³´ë“œ, ë¹™í•˜ ìœ„ì˜ ì—ìŠ¤í”„ë ˆì†Œ ë¨¸ì‹ .',
    successCondition:'ë‘ ìš”ì†Œê°€ ê°ê° ë…ë¦½ì ìœ¼ë¡œ ì¸ì‹ë˜ë©´ì„œë„ ë³‘ì¹˜ì˜ ì˜ë„ê°€ ëŠê»´ì ¸ì•¼ í•œë‹¤',
    failRisk:'ê´€ê³„ê°€ ë„ˆë¬´ ëª¨í˜¸í•˜ë©´ ë¬´ì‘ìœ„ ì½œë¼ì£¼ë¡œ ë³´ì¸ë‹¤',
    examples:['ì‚¬ë§‰ í•œê°€ìš´ë° ë†“ì¸ ê·¸ëœë“œ í”¼ì•„ë…¸','ë¹™í•˜ ìœ„ì˜ ì—ìŠ¤í”„ë ˆì†Œ ë¨¸ì‹ ','íí—ˆ ìœ„ì— í•€ í•œ ì†¡ì´ ê½ƒ'],
    promptKeywords:['placed in unexpected environment','juxtaposition of','contrasting elements side by side','out of context','surreal placement'],
    suitableTypes:['ì´ì§ˆì ìœµí•©','ê´€ì ì „í™˜','ì¼ìƒì†ë°œê²¬']
  },
  {
    id:10, num:'â‘©', name:'ê·¹ë‹¨ì  í´ë¡œì¦ˆì—…', tier:'C', stars:3,
    structure:'ìœ¡ì•ˆìœ¼ë¡œ ë³¼ ìˆ˜ ì—†ëŠ” ê·¹ë„ì˜ í™•ëŒ€ë¡œ ìƒˆë¡œìš´ ì„¸ê³„ ë°œê²¬',
    desc:'í˜„ë¯¸ê²½ ìˆ˜ì¤€ìœ¼ë¡œ í™•ëŒ€í•˜ë©´ ì¼ìƒì˜ ë¬¼ì²´ê°€ ì™¸ê³„ í–‰ì„±ì´ ëœë‹¤. ì»¤í”¼ í‘œë©´ì˜ ê±°í’ˆì´ ì€í•˜ê°€ ë˜ê³ , ì§ë¬¼ì˜ ì˜¬ì´ ìˆ²ì´ ëœë‹¤.',
    successCondition:'ë¬´ì—‡ì„ í™•ëŒ€í•œ ê²ƒì¸ì§€ ë§¥ë½ ë‹¨ì„œê°€ ìˆìœ¼ë©´ì„œë„, í™•ëŒ€ëœ ì„¸ê³„ ìì²´ê°€ ë…ë¦½ì  ì•„ë¦„ë‹¤ì›€ì„ ê°€ì ¸ì•¼ í•œë‹¤',
    failRisk:'ì›ë³¸ì´ ë­”ì§€ ì „í˜€ ëª¨ë¥´ë©´ ì¶”ìƒ ì´ë¯¸ì§€ê°€ ë˜ê³ , ë„ˆë¬´ ëª…í™•í•˜ë©´ ê·¸ëƒ¥ ì ‘ì‚¬ ì‚¬ì§„ì´ë‹¤',
    examples:['ì»¤í”¼ í‘œë©´ ê±°í’ˆì˜ ê·¹ë‹¨ì  í™•ëŒ€ (í–‰ì„± í‘œë©´ì²˜ëŸ¼)','ì§ë¬¼ ì˜¬ì˜ ë§ˆì´í¬ë¡œ ë·° (ìˆ²ì²˜ëŸ¼ ë³´ì„)','ì†ë ì§€ë¬¸ì˜ ê·¹í™•ëŒ€ (ë¯¸ë¡œ/ê³„ê³¡ì²˜ëŸ¼)'],
    promptKeywords:['extreme macro','microscopic view','hyper close-up revealing','cellular level detail','macro photography of surface'],
    suitableTypes:['ì¼ìƒì†ë°œê²¬','ìˆ¨ê²¨ì§„ê°€ì¹˜','ìŠ¤ì¼€ì¼/ê·œëª¨']
  }
];

// ===================================================================
// DATA: TYPE MATRIX (8 insight types â†’ recommended techniques)
// ===================================================================
const TYPE_MATRIX = {
  'ë³¸ì§ˆë°˜ì „':     {recs:[{id:1,reason:'ë‘ ë³¸ì§ˆì„ í•©ì„±í•˜ì—¬ ë°˜ì „ ì‹œê°í™”'},{id:3,reason:'ì¬ì§ˆ ë³€í™˜ìœ¼ë¡œ ë³¸ì§ˆì˜ ì´ë©´ì„ ë“œëŸ¬ëƒ„'},{id:8,reason:'ê·¹ë‹¨ì  ì—¬ë°±ìœ¼ë¡œ ë³¸ì§ˆë§Œ ë‚¨ê¹€'}]},
  'ê´€ì ì „í™˜':     {recs:[{id:5,reason:'ì‹œì  ìì²´ë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ì „í™˜'},{id:7,reason:'ê³µê°„ êµ¬ì¡°ë¥¼ ì™œê³¡í•˜ì—¬ ìƒˆ ê´€ì  ì œì‹œ'},{id:9,reason:'ë§¥ë½ ë³‘ì¹˜ë¡œ ê´€ì  ì¶©ëŒ ìœ ë„'}]},
  'ìˆ¨ê²¨ì§„ê°€ì¹˜':   {recs:[{id:3,reason:'ì¬ì§ˆ ë³€í™˜ìœ¼ë¡œ ìˆ¨ê²¨ì§„ ë³¸ì§ˆ ë“œëŸ¬ëƒ„'},{id:10,reason:'ê·¹í™•ëŒ€ë¡œ ë³´ì´ì§€ ì•Šë˜ ê°€ì¹˜ ë°œê²¬'},{id:2,reason:'ìŠ¤ì¼€ì¼ ë°˜ì „ìœ¼ë¡œ ì‘ì€ ê²ƒì˜ ê±°ëŒ€í•œ ê°€ì¹˜ í‘œí˜„'}]},
  'ì¼ìƒì†ë°œê²¬':   {recs:[{id:10,reason:'ì¼ìƒ ì˜¤ë¸Œì œë¥¼ ê·¹í™•ëŒ€í•˜ì—¬ ì¬ë°œê²¬'},{id:5,reason:'ì¼ìƒì„ ìƒˆë¡œìš´ ì‹œì ì—ì„œ í¬ì°©'},{id:9,reason:'ì¼ìƒ ì˜¤ë¸Œì œë¥¼ ë‚¯ì„  ë§¥ë½ì— ë°°ì¹˜'}]},
  'ì´ì§ˆì ìœµí•©':   {recs:[{id:1,reason:'ì´ì§ˆì  ìš”ì†Œë¥¼ í•˜ë‚˜ë¡œ í•©ì„±'},{id:9,reason:'ì´ì§ˆì  ìš”ì†Œë¥¼ ë‚˜ë€íˆ ë³‘ì¹˜'},{id:4,reason:'í•´ì²´ í›„ ì´ì§ˆì  í˜•íƒœë¡œ ì¬ì¡°ë¦½'}]},
  'ìŠ¤ì¼€ì¼/ê·œëª¨':  {recs:[{id:2,reason:'í¬ê¸° ë°˜ì „ìœ¼ë¡œ ìŠ¤ì¼€ì¼ ì§ì ‘ ì‹œê°í™”'},{id:6,reason:'ì‹œê°„ ìŠ¤ì¼€ì¼ì„ í•œ í”„ë ˆì„ì— ì••ì¶•'},{id:10,reason:'ë§ˆì´í¬ë¡œ ìŠ¤ì¼€ì¼ë¡œì˜ ì „í™˜'}]},
  'ì¬í•´ì„/ë³€í™˜':  {recs:[{id:3,reason:'ì¬ì§ˆ ë³€í™˜ = ì¬í•´ì„ì˜ ì§ì ‘ ì‹œê°í™”'},{id:4,reason:'í•´ì²´ ì¬ì¡°ë¦½ = ë³€í™˜ ê³¼ì • í¬ì°©'},{id:1,reason:'í•©ì„±ìœ¼ë¡œ ìƒˆë¡œìš´ í•´ì„ ì œì‹œ'}]},
  'ë¯¸ë‹ˆë©€/ìƒì§•':  {recs:[{id:8,reason:'ë¯¸ë‹ˆë©€ ê¸°ë²• ê·¸ ìì²´'},{id:2,reason:'ë‹¨ì¼ ì˜¤ë¸Œì œì˜ ìŠ¤ì¼€ì¼ ê·¹ëŒ€í™”'},{id:5,reason:'ê·¹ë‹¨ì  ì‹œì ìœ¼ë¡œ ìƒì§•ì„± ê°•í™”'}]}
};

// ===================================================================
// DATA: FLOWCHART QUESTIONS
// ===================================================================
const FLOWCHART_QS = [
  {q:'ë‘ ê°œì˜ ì˜¤ë¸Œì œë¥¼ í•˜ë‚˜ë¡œ í•©ì³ì„œ ìƒˆë¡œìš´ ì˜ë¯¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‚˜ìš”?', techId:1},
  {q:'í¬ê¸°ë¥¼ ê·¹ë‹¨ì ìœ¼ë¡œ í‚¤ìš°ê±°ë‚˜ ì¤„ì—¬ì„œ ì¶©ê²©ì„ ì¤„ ìˆ˜ ìˆë‚˜ìš”?', techId:2},
  {q:'ì˜¤ë¸Œì œì˜ ì¬ì§ˆ/ì§ˆê°ì„ ë°”ê¿”ì„œ ë³¸ì§ˆì„ ë“œëŸ¬ë‚¼ ìˆ˜ ìˆë‚˜ìš”?', techId:3},
  {q:'ì˜¤ë¸Œì œë¥¼ í•´ì²´í•˜ê³  ë‹¤ë¥¸ í˜•íƒœë¡œ ì¬ì¡°ë¦½í•  ìˆ˜ ìˆë‚˜ìš”?', techId:4},
  {q:'í‰ì†Œì™€ ë‹¤ë¥¸ ê°ë„/ì‹œì ì—ì„œ ë³´ë©´ ìƒˆë¡œìš´ ì˜ë¯¸ê°€ ìƒê¸°ë‚˜ìš”?', techId:5},
  {q:'ê³¼ê±°ì™€ í˜„ì¬(ë˜ëŠ” ë¯¸ë˜)ë¥¼ í•œ í”„ë ˆì„ì— ëŒ€ë¹„í•  ìˆ˜ ìˆë‚˜ìš”?', techId:6},
  {q:'ë¬¼ë¦¬ ë²•ì¹™ì„ ë¬´ì‹œí•œ ë¶ˆê°€ëŠ¥í•œ ê³µê°„ì´ ë©”ì‹œì§€ë¥¼ ê°•í™”í•˜ë‚˜ìš”?', techId:7},
  {q:'ëª¨ë“  ê²ƒì„ ë¹¼ê³  ë”± í•˜ë‚˜ë§Œ ë‚¨ê²¨ë„ ë©”ì‹œì§€ê°€ ì „ë‹¬ë˜ë‚˜ìš”?', techId:8},
  {q:'ì „í˜€ ì–´ìš¸ë¦¬ì§€ ì•ŠëŠ” ë‘ ìš”ì†Œë¥¼ ë‚˜ë€íˆ ë†“ìœ¼ë©´ ë©”ì‹œì§€ê°€ ë˜ë‚˜ìš”?', techId:9},
  {q:'ê·¹ë‹¨ì ìœ¼ë¡œ í™•ëŒ€í•˜ë©´ ìƒˆë¡œìš´ ì„¸ê³„ê°€ ë³´ì´ë‚˜ìš”?', techId:10}
];

// ===================================================================
// DATA: 50+1 PLAN
// ===================================================================
const PLAN_DATA = [
  {id:1,name:'ì§€ìš¸ ìˆ˜ ì—†ëŠ” ì§„ì‹¬',brand:'ì•ˆì„±ê¸° ì†í¸ì§€',technique:1,objectA:'ì†í¸ì§€',transformB:'ìš©ì•”/ë¶ˆê½ƒ ì‰í¬',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:2,name:'ì…€í”„ í™˜ëŒ€',brand:'ìµœí™”ì •',technique:3,objectA:'ì€ìˆ˜ì €',transformB:'í¬ë¦¬ìŠ¤íƒˆ/ë³´ì„',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:3,name:'ë¡œì»¬ì˜ ì¤‘ë ¥',brand:'ì„±ì‹¬ë‹¹',technique:2,objectA:'ë¹µì§‘',transformB:'ë¸”ë™í™€/ì¤‘ë ¥ì¥',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:4,name:'ì§€ê¸ˆ ì•„ë‹ˆë©´ ì—†ë‹¤',brand:'ZARA',technique:6,objectA:'ë§¤ì¥ ì„ ë°˜',transformB:'ëª¨ë˜ì‹œê³„ ëª¨ë˜',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:5,name:'ë¨¹ëŠ” ê³³ì´ ì•„ë‹Œ ìˆëŠ” ê³³',brand:'ëŸ°ë˜ë² ì´ê¸€ë®¤ì§€ì—„',technique:7,objectA:'ë² ì´ê¸€ ê°€ê²Œ',transformB:'ë¯¸ìˆ ê´€ ê°¤ëŸ¬ë¦¬',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:6,name:'ë®¤ì§€ì—„ì´ë¼ ë¶€ë¥´ëŠ” ìˆœê°„',brand:'ëŸ°ë˜ë² ì´ê¸€ë®¤ì§€ì—„',technique:3,objectA:'ë² ì´ê¸€',transformB:'ëŒ€ë¦¬ì„/ë¸Œë¡ ì¦ˆ',slide:'03P',status:'ğŸ”²',track:'Track03'},
  {id:7,name:'ë§¤ì¥ì´ ì•„ë‹Œ ì‚¬ê±´',brand:'ZARA',technique:9,objectA:'ì˜·ê±¸ì´',transformB:'ë ˆë“œì¹´í«/ë¬´ëŒ€',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:8,name:'ì™„ë²½í•œ ê¸°ë³¸',brand:'ìœ ë‹ˆí´ë¡œ',technique:8,objectA:'í° í‹°ì…”ì¸ ',transformB:'ìˆœë°± ê³µê°„',slide:'03P',status:'ğŸ”²',track:'Track01'},
  {id:9,name:'ì˜·ì¥ì´ ì•„ë‹Œ ìœ ë‹ˆí¼',brand:'ìœ ë‹ˆí´ë¡œ',technique:1,objectA:'ì˜·ì¥',transformB:'êµ°ë³µ/ì œë³µ',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:10,name:'ë³´ì´ì§€ ì•ŠëŠ” ê¸°ìˆ ',brand:'ìœ ë‹ˆí´ë¡œ',technique:10,objectA:'íˆíŠ¸í… ì›ë‹¨',transformB:'ë¶„ì/ë‚˜ë…¸ êµ¬ì¡°',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:11,name:'ê³„ì ˆì„ íŒŒëŠ” ê°€ê²Œ',brand:'ìœ ë‹ˆí´ë¡œ',technique:6,objectA:'ë§¤ì¥',transformB:'ì‚¬ê³„ì ˆ í’ê²½',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:12,name:'ë¹ ì§€ëŠ” ê²ƒì˜ ë¯¸í•™',brand:'ìœ ë‹ˆí´ë¡œ',technique:8,objectA:'ì˜·',transformB:'íˆ¬ëª…/ì†Œë©¸',slide:'03P',status:'ğŸ”²',track:'Track01'},
  {id:13,name:'ëª»ìƒê¸´ ë°‘ì°½ì˜ ì—­ìŠµ',brand:'ON',technique:5,objectA:'ìš´ë™í™” ë°‘ì°½',transformB:'ë‹¬ í‘œë©´/í¬ë ˆì´í„°',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:14,name:'ì£¼ì¸ê³µì„ ì£½ì—¬ë„ ì„¸ê³„ëŠ” ì‚°ë‹¤',brand:'ì£¼í† í”¼ì•„/ë””ì¦ˆë‹ˆ',technique:4,objectA:'ìºë¦­í„°',transformB:'ìš°ì£¼/ì€í•˜ íŒŒí¸',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:15,name:'ì„ íƒì§€ê°€ 3ê°œë¿ì¸ ë§ˆíŠ¸',brand:'ì½”ìŠ¤íŠ¸ì½”',technique:2,objectA:'ë§ˆíŠ¸ ì„ ë°˜',transformB:'3ê°œë§Œ ë‚¨ì€ ê±°ëŒ€ ì„ ë°˜',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:16,name:'ë©”ë‰´ê°€ 3ê°œë¿ì¸ ë²„ê±°ì§‘',brand:'ì¸ì•¤ì•„ì›ƒ',technique:8,objectA:'ë©”ë‰´íŒ',transformB:'ë¯¸ë‹ˆë©€ 3ì¤„',slide:'03P',status:'ğŸ”²',track:'Track01'},
  {id:17,name:'ì•ˆ í•˜ëŠ” ë²„ê±°ì§‘',brand:'ì¸ì•¤ì•„ì›ƒ',technique:9,objectA:'í–„ë²„ê±°',transformB:'75ë…„ íƒ€ì„ìº¡ìŠ',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:18,name:'ì‹œí¬ë¦¿ ë©”ë‰´ê°€ ë” ìœ ëª…í•œ ê°€ê²Œ',brand:'ì¸ì•¤ì•„ì›ƒ',technique:5,objectA:'ë©”ë‰´íŒ',transformB:'ìˆ¨ê²¨ì§„ ë¬¸/ê¸ˆê³ ',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:19,name:'ì»¨ì‹œì–´ì§€ê°€ ìˆëŠ” ì„œì ',brand:'ì¸ íƒ€ì•¼',technique:9,objectA:'ì„œì ',transformB:'í˜¸í…” ë¡œë¹„',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:20,name:'50ëŒ€ë§Œ ì˜¤ëŠ” ì„œì ',brand:'ì¸ íƒ€ì•¼',technique:2,objectA:'ì„œì ',transformB:'ê±°ëŒ€í•œ ë‹ë³´ê¸°',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:21,name:'3ê°œì˜ ë²•ì¹™',brand:'ì‹¬ë¦¬í•™/ë²”ìš©',technique:8,objectA:'ì„ íƒì§€',transformB:'3ê°œì˜ ë¬¸',slide:'03P',status:'ğŸ”²',track:'Track01'},
  {id:22,name:'ì‹ ë°œì´ ì•„ë‹Œ ì„ ìˆ˜ë¥¼ íŒë‹¤',brand:'ë‚˜ì´í‚¤',technique:1,objectA:'ìš´ë™í™”',transformB:'ì„ ìˆ˜ì˜ ë°œ/ê·¼ìœ¡',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:23,name:'ì§‘ë„ íšŒì‚¬ë„ ì•„ë‹Œ ê³³',brand:'ìŠ¤íƒ€ë²…ìŠ¤',technique:7,objectA:'ì¹´í˜',transformB:'ì°¨ì› ì‚¬ì´ ê³µê°„',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:24,name:'ì£¼ë°©ì´ ì¹´ìš´í„° ì•ì—',brand:'ì¹˜í´ë ˆ',technique:5,objectA:'ì£¼ë°©',transformB:'ìœ ë¦¬/íˆ¬ëª…ë²½',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:25,name:'ì¢…ì´ë´‰íˆ¬ì— ì² í•™ì„ ì“°ëŠ” ì‹ë‹¹',brand:'ì¹˜í´ë ˆ',technique:3,objectA:'ì¢…ì´ë´‰íˆ¬',transformB:'ì–‘í”¼ì§€/ê³ ì„œì ',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:26,name:'ì§‘ì£¼ì¸ì´ ê³ ê°ë³´ë‹¤ ì¤‘ìš”',brand:'ì—ì–´ë¹„ì•¤ë¹„',technique:2,objectA:'ì§‘ì£¼ì¸',transformB:'ê±°ëŒ€í•œ ì™•ê´€',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:27,name:'í˜¸í…”ì´ ì•„ë‹Œ ê²½í—˜',brand:'ì—ì–´ë¹„ì•¤ë¹„',technique:1,objectA:'í˜¸í…” ì—´ì‡ ',transformB:'ì—¬ê¶Œ/ëª¨í—˜ ë„êµ¬',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:28,name:'ì˜ìƒ ì† ë‚¨ìê°€ íŠ€ì–´ë‚˜ì™”ë‹¤',brand:'ì²­ë£¡ì˜í™”ìƒ',technique:7,objectA:'ìŠ¤í¬ë¦°',transformB:'ê¹¨ì§„ ìœ ë¦¬/í˜„ì‹¤',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:29,name:'ìƒ ëª» ë°›ì•˜ëŠ”ë° ê°€ì¥ í™”ì œ',brand:'ë°•ì •ë¯¼',technique:9,objectA:'íŠ¸ë¡œí”¼',transformB:'SNS ë§í’ì„ ',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:30,name:'ìˆ«ìê°€ ì•„ë‹Œ êµ¬ë¦„',brand:'ON',technique:3,objectA:'ìš´ë™í™”',transformB:'êµ¬ë¦„/ì†œ',slide:'03P',status:'ğŸ”²',track:'Track03'},
  {id:31,name:'ì™„ë²½í•œ í†µì—­, í†µí•˜ì§€ ì•ŠëŠ” ê²ƒ',brand:'AI í†µì—­',technique:4,objectA:'ë²ˆì—­ê¸°',transformB:'ê¹¨ì§„ í•˜íŠ¸/ê°ì • íŒŒí¸',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:32,name:'ë‚˜ë„ ì €ë˜',brand:'ëŸ¬ë¸Œë¯¸',technique:10,objectA:'ì˜í™” ì¥ë©´',transformB:'ê´€ê°ì˜ ëˆˆë¬¼ í´ë¡œì¦ˆì—…',slide:'03P',status:'ğŸ”²',track:'Track02'},
  {id:33,name:'ë¬¼ì¸ë°, ë§¥ì£¼ìº”',brand:'ë¦¬í€´ë“œ ë°ìŠ¤',technique:3,objectA:'ë¬¼ë³‘',transformB:'í•´ê³¨/ë©”íƒˆ',slide:'03P',status:'ğŸ”²',track:'Track03'},
  {id:34,name:'ì„ ìƒë‹˜ì´ ì•„ë‹Œ ì˜¬ë¹¼ë¯¸',brand:'ë‘ì˜¬ë§ê³ ',technique:1,objectA:'êµê³¼ì„œ',transformB:'ì˜¬ë¹¼ë¯¸/ê²Œì„ê¸°',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:35,name:'ìƒˆë¡œìš´ ê²Œ ì•„ë‹Œ, ì´ë¯¸ í•˜ë˜ ê±°',brand:'í¬ë˜í”„íŠ¸í•˜ì¸ì¦ˆ',technique:10,objectA:'ë§ˆìš”ë„¤ì¦ˆ+ì¹˜ì¦ˆ',transformB:'ì†Œë¹„ì ëƒ‰ì¥ê³  ë‚´ë¶€',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:36,name:'ì ë§Œ ìë„ ì‚¬ê²Œ ë©ë‹ˆë‹¤',brand:'MUJI Hotel',technique:7,objectA:'í˜¸í…” ê°ì‹¤',transformB:'MUJI ë§¤ì¥',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:37,name:'ì“°ë ˆê¸°ê°€ 20ë§Œì›',brand:'FREITAG',technique:4,objectA:'ë°©ìˆ˜í¬/íŠ¸ëŸ­ ë®ê°œ',transformB:'ëª…í’ˆ ê°€ë°©',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:38,name:'ì‚¬ì§€ ë§ˆì„¸ìš”',brand:'íŒŒíƒ€ê³ ë‹ˆì•„',technique:9,objectA:'ì¬í‚·',transformB:'"Don\'t Buy" í‘œì§€íŒ',slide:'05P',status:'ğŸ”²',track:'Track01'},
  {id:39,name:'í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ì™”ë‹¤',brand:'Netflix House',technique:7,objectA:'TV í™”ë©´',transformB:'ì‹¤ì œ ì„¸íŠ¸ì¥',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:40,name:'ë¹ˆ ì¢…ì´ í•œ ì¥ì´ 13ì¡°',brand:'Notion',technique:8,objectA:'ë¹ˆ ì¢…ì´',transformB:'ê±°ëŒ€í•œ ê¸ˆê³ ',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:41,name:'10ì‹œê°„ 29ë¶„ í†µí™”',brand:'Zappos',technique:6,objectA:'ì „í™”ê¸°',transformB:'ë…¹ì•„ë‚´ë¦¬ëŠ” ì‹œê³„',slide:'05P',status:'ğŸ”²',track:'Track02'},
  {id:42,name:'ì¹´í˜ê°€ ìˆëŠ” ì˜·ê°€ê²Œê°€ ì•„ë‹™ë‹ˆë‹¤',brand:'ARKET',technique:1,objectA:'ì˜·ê°€ê²Œ',transformB:'ì¹´í˜/ì£¼ë°©',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:43,name:'ë¹„ì‹¼ ê°€ê²©ì´ ì½˜í…ì¸ ',brand:'Erewhon',technique:2,objectA:'ìŠ¤ë¬´ë”” ì»µ',transformB:'ê¸ˆê´´/ë‹¤ì´ì•„ëª¬ë“œ',slide:'03P',status:'ğŸ”²',track:'Track03'},
  {id:44,name:'ì¢Œì„ì„ ì—†ì•´ë”ë‹ˆ 3ë§Œ ê°œ',brand:'ë£¨ì´ì‹±ì»¤í”¼',technique:4,objectA:'ì¹´í˜ ì˜ì',transformB:'ìŠ¤ë§ˆíŠ¸í° í”½ì…€',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:45,name:'ë°±í™”ì ì´ í™”ì„±ìœ¼ë¡œ',brand:'SKP-S',technique:7,objectA:'ë°±í™”ì ',transformB:'í™”ì„± í‘œë©´/ìš°ì£¼',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:46,name:'ë­ê°€ ë“¤ì—ˆëŠ”ì§€ ëª¨ë¦…ë‹ˆë‹¤',brand:'POP MART',technique:5,objectA:'ë¸”ë¼ì¸ë“œ ë°•ìŠ¤',transformB:'?ë¡œ ê°€ë ¤ì§„ ë‚´ë¶€',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:47,name:'ë©”ë‰´íŒì´ ì—†ìŠµë‹ˆë‹¤',brand:'% Arabica',technique:8,objectA:'ì¹´í˜',transformB:'í…… ë¹ˆ ìˆœë°± ê³µê°„',slide:'03P',status:'ğŸ”²',track:'Track03'},
  {id:48,name:'ì°¨ ì˜ì‹ì„ ì—†ì•¤ ì°»ì§‘',brand:'Tea\'stone',technique:6,objectA:'ë‹¤ë„ ì„¸íŠ¸',transformB:'ì¹µí…Œì¼ ë°”',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:49,name:'3ã¡ì—ì„œë„ í’ˆì§ˆ ì¼ê´€ì„±',brand:'Fisheye',technique:10,objectA:'ì»¤í”¼ ë¨¸ì‹ ',transformB:'íšŒë¡œê¸°íŒ/ë°ì´í„°',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:50,name:'ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ',brand:'Moncler Genius',technique:4,objectA:'íŒ¨ë”© ì¬í‚·',transformB:'ë§Œí™”ê²½/í”„ë¦¬ì¦˜ íŒŒí¸',slide:'05P',status:'ğŸ”²',track:'Track03'},
  {id:51,name:'BECA ì¸ì‚¬ì´íŠ¸',brand:'thereafter',technique:1,objectA:'ì¸ì‚¬ì´íŠ¸ ì¹´ë“œ',transformB:'í”„ë¦¬ì¦˜/ë¹› ìŠ¤í™íŠ¸ëŸ¼',slide:'07P',status:'ğŸ”²',track:'BECA'}
];

// ===================================================================
// DATA: PROMPT TEMPLATES
// ===================================================================
const PROMPT_TEMPLATES = {
  1: `A {A} seamlessly merging into {B}, the two objects forming one impossible hybrid. The transition between {A} and {B} is organic and natural, as if they were always one object. Studio lighting, {background} background, photorealistic product photography --ar {ar} --no text, no letters, no words, no signs, no watermark, no logo --s 750 --q 2`,
  2: `A giant oversized {A} towering over a tiny {B}, dramatic scale reversal creating visual tension. The size contrast is extreme and striking. Cinematic composition, {background} background, hyper-realistic --ar {ar} --no text, no letters, no words, no signs, no watermark, no logo --s 750 --q 2`,
  3: `A {A} with the exact original shape but made entirely of {B} material. The texture and material of {B} is rendered in extreme detail on the form of {A}. Studio product shot, {background} background, photorealistic --ar {ar} --no text, no letters, no words, no signs, no watermark, no logo --s 750 --q 2`,
  4: `A {A} in the process of disintegrating and reassembling into the shape of {B}. Fragments and particles float mid-air, caught between destruction and creation. Dynamic frozen moment, {background} background, cinematic lighting --ar {ar} --no text, no letters, no words, no signs, no watermark, no logo --s 750 --q 2`,
  5: `A {A} photographed from an extreme unexpected angle revealing it looks like {B}. The perspective shift creates a completely new meaning. {background} background, editorial photography, sharp detail --ar {ar} --no text, no letters, no words, no signs, no watermark, no logo --s 750 --q 2`,
  6: `A single frame showing {A} transitioning through time into {B}. Left side shows the beginning state, right side shows the transformed state. The progression is smooth and continuous. {background} background, conceptual photography --ar {ar} --no text, no letters, no words, no signs, no watermark, no logo --s 750 --q 2`,
  7: `An impossible space where {A} exists inside a gravity-defying {B} environment. Architecture and physics are surreal, Escher-like. The space feels real yet impossible. {background} background, architectural photography --ar {ar} --no text, no letters, no words, no signs, no watermark, no logo --s 750 --q 2`,
  8: `A single {A} placed in vast empty {background} space. Extreme minimalism, 90% negative space. The solitary object commands all attention through its isolation. Clean, stark, powerful. Minimalist art photography --ar {ar} --no text, no letters, no words, no signs, no watermark, no logo --s 750 --q 2`,
  9: `A {A} placed in the completely unexpected environment of {B}. The two elements are side by side, not merged, creating surreal juxtaposition. The contrast between {A} and {B} tells a story. {background} background, fine art photography --ar {ar} --no text, no letters, no words, no signs, no watermark, no logo --s 750 --q 2`,
  10:`An extreme macro close-up of {A} surface revealing it looks like {B} at microscopic level. Hyper-detailed texture, the familiar becomes alien and beautiful. {background} background, macro photography, shallow depth of field --ar {ar} --no text, no letters, no words, no signs, no watermark, no logo --s 750 --q 2`
};

const COMMON_RULES = [
  'No text, letters, words ê¸ˆì§€ í™•ì¸',
  'No signs, watermark, logo ê¸ˆì§€ í™•ì¸',
  'Aì™€ Bê°€ ëª…í™•íˆ í‘œí˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸',
  'ë°°ê²½ìƒ‰ì´ ì˜ë„ëŒ€ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸',
  'ë¹„ìœ¨(ar)ì´ ìŠ¬ë¼ì´ë“œ ìš©ë„ì— ë§ëŠ”ì§€ í™•ì¸',
  '--s 750 --q 2 ìŠ¤íƒ€ì¼/í€„ë¦¬í‹° íŒŒë¼ë¯¸í„° í™•ì¸',
  'í”„ë¡¬í”„íŠ¸ ì˜ì–´ë¡œ ì‘ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸'
];

// ===================================================================
// STATE
// ===================================================================
let activeTab = 0;
let tierFilter = 'all';
let flowStep = 0;
let finderMode = 'flow';
let selectedTech = null;
let genOpts = { bg:'dark', ar:'3:4', slide:'03P' };
let planFilters = { technique:'all', track:'all', status:'all' };

// ===================================================================
// TAB CONTROL
// ===================================================================
function switchTab(idx) {
  activeTab = idx;
  document.querySelectorAll('.tab-content').forEach((el,i) => {
    el.classList.toggle('active', i === idx);
  });
  document.querySelectorAll('nav button').forEach((el,i) => {
    el.classList.toggle('active', i === idx);
  });
}

// ===================================================================
// TAB 1: TECHNIQUE DICTIONARY
// ===================================================================
function renderTierFilter() {
  const c = document.getElementById('tier-filter');
  c.innerHTML = `
    <button class="filter-btn ${tierFilter==='all'?'active':''}" onclick="setTier('all')">ì „ì²´</button>
    <button class="filter-btn ${tierFilter==='A'?'active':''}" onclick="setTier('A')">A â˜…â˜…â˜…â˜…â˜…</button>
    <button class="filter-btn ${tierFilter==='B'?'active':''}" onclick="setTier('B')">B â˜…â˜…â˜…â˜…</button>
    <button class="filter-btn ${tierFilter==='C'?'active':''}" onclick="setTier('C')">C â˜…â˜…â˜…</button>
  `;
}

function setTier(t) {
  tierFilter = t;
  renderTierFilter();
  renderTechniques();
}

function renderTechniques() {
  const grid = document.getElementById('tech-grid');
  const filtered = tierFilter === 'all' ? TECHNIQUES : TECHNIQUES.filter(t => t.tier === tierFilter);
  grid.innerHTML = filtered.map(t => `
    <div class="card" id="tech-card-${t.id}" onclick="toggleDetail(${t.id})">
      <div>
        <span class="num">${t.num}</span>
        <span class="name">${t.name}</span>
        <span class="badge tier-${t.tier.toLowerCase()}">${t.tier}</span>
        <span class="stars">${'â˜…'.repeat(t.stars)}</span>
      </div>
      <div class="structure">${t.structure}</div>
      <div class="card-detail">
        <div class="detail-section">
          <div class="detail-label">ì„¤ëª…</div>
          <div class="detail-text">${t.desc}</div>
        </div>
        <div class="detail-section">
          <div class="detail-label">ì„±ê³µ ì¡°ê±´</div>
          <div class="detail-text">${t.successCondition}</div>
        </div>
        <div class="detail-section">
          <div class="detail-label">ì‹¤íŒ¨ ìœ„í—˜</div>
          <div class="detail-text">${t.failRisk}</div>
        </div>
        <div class="detail-section">
          <div class="detail-label">ê²€ì¦ ì‚¬ë¡€</div>
          <div class="detail-text">${t.examples.map(e=>'â€¢ '+e).join('<br>')}</div>
        </div>
        <div class="detail-section">
          <div class="detail-label">MJ í”„ë¡¬í”„íŠ¸ í‚¤ì›Œë“œ</div>
          <div class="detail-code">${t.promptKeywords.join(', ')}</div>
        </div>
        <div class="detail-section">
          <div class="detail-label">ì í•©í•œ ì¸ì‚¬ì´íŠ¸ ìœ í˜•</div>
          <div>${t.suitableTypes.map(s=>'<span class="tag">'+s+'</span>').join('')}</div>
        </div>
      </div>
    </div>
  `).join('');
}

function toggleDetail(id) {
  const card = document.getElementById('tech-card-' + id);
  card.classList.toggle('open');
}

// ===================================================================
// TAB 2: TECHNIQUE FINDER
// ===================================================================
function setFinderMode(mode) {
  finderMode = mode;
  document.querySelectorAll('.finder-mode button').forEach((el,i) => {
    el.classList.toggle('active', (i===0 && mode==='flow') || (i===1 && mode==='type'));
  });
  document.getElementById('finder-flow').classList.toggle('hidden', mode !== 'flow');
  document.getElementById('finder-type').classList.toggle('hidden', mode !== 'type');
  if (mode === 'flow') startFlow();
}

function startFlow() {
  flowStep = 0;
  renderFlowStep();
}

function renderFlowStep() {
  const box = document.getElementById('flow-box');
  if (flowStep >= FLOWCHART_QS.length) {
    const fallback = TECHNIQUES[0];
    box.innerHTML = `
      <div class="flow-q">ëª¨ë“  ì§ˆë¬¸ ì™„ë£Œ</div>
      <div class="flow-question">ì¡°í•©ì´ ì–´ë ¤ìš´ ê²½ìš°, ê°€ì¥ ë²”ìš©ì ì¸ ê¸°ë²•ì„ ì¶”ì²œí•©ë‹ˆë‹¤</div>
      <div class="result-card">
        <div class="rc-title">${fallback.num} ${fallback.name}</div>
        <div class="rc-desc">${fallback.desc}</div>
        <button class="go-gen-btn" onclick="goToGenerator(${fallback.id})">í”„ë¡¬í”„íŠ¸ ìƒì„±ê¸°ë¡œ ì´ë™ â†’</button>
      </div>
      <button class="filter-btn mt-16" onclick="startFlow()">ë‹¤ì‹œ ì‹œì‘</button>
    `;
    return;
  }
  const fq = FLOWCHART_QS[flowStep];
  box.innerHTML = `
    <div class="flow-q">Q${flowStep+1} / ${FLOWCHART_QS.length}</div>
    <div class="flow-question">${fq.q}</div>
    <div class="flow-btns">
      <button class="yes" onclick="answerFlow(true)">Yes</button>
      <button class="no" onclick="answerFlow(false)">No</button>
    </div>
  `;
}

function answerFlow(yes) {
  if (yes) {
    const fq = FLOWCHART_QS[flowStep];
    const tech = TECHNIQUES.find(t => t.id === fq.techId);
    const box = document.getElementById('flow-box');
    box.innerHTML = `
      <div class="flow-q">Q${flowStep+1} ê²°ê³¼</div>
      <div class="result-card">
        <div class="rc-title">${tech.num} ${tech.name}</div>
        <div class="rc-desc">${tech.desc}</div>
        <button class="go-gen-btn" onclick="goToGenerator(${tech.id})">í”„ë¡¬í”„íŠ¸ ìƒì„±ê¸°ë¡œ ì´ë™ â†’</button>
      </div>
      <button class="filter-btn mt-16" onclick="startFlow()">ë‹¤ì‹œ ì‹œì‘</button>
    `;
  } else {
    flowStep++;
    renderFlowStep();
  }
}

function renderTypeSelect() {
  const sel = document.getElementById('type-select');
  const types = Object.keys(TYPE_MATRIX);
  types.forEach(t => {
    const opt = document.createElement('option');
    opt.value = t; opt.textContent = t;
    sel.appendChild(opt);
  });
}

function onTypeSelect() {
  const type = document.getElementById('type-select').value;
  const container = document.getElementById('rec-cards');
  if (!type) { container.innerHTML = ''; return; }
  const recs = TYPE_MATRIX[type].recs;
  container.innerHTML = recs.map((r,i) => {
    const tech = TECHNIQUES.find(t => t.id === r.id);
    return `
      <div class="rec-card">
        <div class="rec-rank">${i+1}ìˆœìœ„ ì¶”ì²œ</div>
        <div class="rec-name">${tech.num} ${tech.name} <span class="badge tier-${tech.tier.toLowerCase()}">${tech.tier}</span></div>
        <div class="rec-reason">${r.reason}</div>
        <button class="go-gen-btn" onclick="goToGenerator(${tech.id})">í”„ë¡¬í”„íŠ¸ ìƒì„±ê¸°ë¡œ ì´ë™ â†’</button>
      </div>
    `;
  }).join('');
}

function goToGenerator(techId) {
  switchTab(3);
  selectTechnique(techId);
}

// ===================================================================
// TAB 3: PLAN TABLE
// ===================================================================
function renderStatusSummary() {
  const done = PLAN_DATA.filter(p => p.status === 'âœ…').length;
  const wip = PLAN_DATA.filter(p => p.status === 'ğŸ”„').length;
  const todo = PLAN_DATA.filter(p => p.status === 'ğŸ”²').length;
  document.getElementById('status-summary').innerHTML = `
    <div class="status-item done"><div class="status-num">${done}</div><div class="status-label">ì™„ë£Œ âœ…</div></div>
    <div class="status-item wip"><div class="status-num">${wip}</div><div class="status-label">ì§„í–‰ì¤‘ ğŸ”„</div></div>
    <div class="status-item todo"><div class="status-num">${todo}</div><div class="status-label">ë¯¸ì°©ìˆ˜ ğŸ”²</div></div>
  `;
}

function renderPlanFilter() {
  const c = document.getElementById('plan-filter');
  // technique filter
  let html = '<button class="filter-btn '+(planFilters.technique==='all'?'active':'')+'" onclick="setPlanFilter(\'technique\',\'all\')">ì „ì²´ ê¸°ë²•</button>';
  for(let i=1;i<=10;i++){
    const t = TECHNIQUES[i-1];
    html += `<button class="filter-btn ${planFilters.technique==i?'active':''}" onclick="setPlanFilter('technique',${i})">${t.num}</button>`;
  }
  // track filter
  const tracks = [...new Set(PLAN_DATA.map(p=>p.track))].sort();
  html += '<span style="width:8px"></span>';
  html += '<button class="filter-btn '+(planFilters.track==='all'?'active':'')+'" onclick="setPlanFilter(\'track\',\'all\')">ì „ì²´ íŠ¸ë™</button>';
  tracks.forEach(tr => {
    html += `<button class="filter-btn ${planFilters.track===tr?'active':''}" onclick="setPlanFilter('track','${tr}')">${tr}</button>`;
  });
  // status filter
  html += '<span style="width:8px"></span>';
  html += '<button class="filter-btn '+(planFilters.status==='all'?'active':'')+'" onclick="setPlanFilter(\'status\',\'all\')">ì „ì²´ ìƒíƒœ</button>';
  ['âœ…','ğŸ”„','ğŸ”²'].forEach(s => {
    html += `<button class="filter-btn ${planFilters.status===s?'active':''}" onclick="setPlanFilter('status','${s}')">${s}</button>`;
  });
  c.innerHTML = html;
}

function setPlanFilter(key, val) {
  planFilters[key] = val;
  renderPlanFilter();
  renderPlan();
}

function getFilteredPlan() {
  return PLAN_DATA.filter(p => {
    if (planFilters.technique !== 'all' && p.technique !== planFilters.technique) return false;
    if (planFilters.track !== 'all' && p.track !== planFilters.track) return false;
    if (planFilters.status !== 'all' && p.status !== planFilters.status) return false;
    return true;
  });
}

function renderDistChart() {
  const counts = {};
  TECHNIQUES.forEach(t => counts[t.id] = 0);
  PLAN_DATA.forEach(p => { if(counts[p.technique]!==undefined) counts[p.technique]++; });
  const max = Math.max(...Object.values(counts), 1);
  const colors = {A:'#E8913A',B:'#867d6a',C:'#a89f8a'};
  document.getElementById('dist-chart').innerHTML = TECHNIQUES.map(t => {
    const cnt = counts[t.id];
    const pct = (cnt/max*100).toFixed(0);
    return `<div class="dist-row">
      <div class="dist-label">${t.num} ${t.name}</div>
      <div class="dist-bar-wrap">
        <div class="dist-bar" style="width:${pct}%;background:${colors[t.tier]}"><span>${cnt}</span></div>
      </div>
    </div>`;
  }).join('');
}

function renderPlan() {
  const data = getFilteredPlan();
  // Table (desktop)
  const table = document.getElementById('plan-table');
  table.innerHTML = `<thead><tr>
    <th>#</th><th>ì¸ì‚¬ì´íŠ¸ëª…</th><th>ë¸Œëœë“œ</th><th>ê¸°ë²•</th>
    <th>A(ì˜¤ë¸Œì œ)</th><th>B(ë³€í™˜)</th><th>ìŠ¬ë¼ì´ë“œ</th><th>ìƒíƒœ</th>
  </tr></thead><tbody>${data.map(p => {
    const tech = TECHNIQUES.find(t=>t.id===p.technique);
    return `<tr>
      <td>${p.id}</td>
      <td class="insight-name">${p.name}</td>
      <td>${p.brand}</td>
      <td>${tech?tech.num+' '+tech.name:'-'}</td>
      <td>${p.objectA}</td>
      <td>${p.transformB}</td>
      <td>${p.slide}</td>
      <td>${p.status}</td>
    </tr>`;
  }).join('')}</tbody>`;

  // Cards (mobile)
  const cards = document.getElementById('plan-cards');
  cards.innerHTML = data.map(p => {
    const tech = TECHNIQUES.find(t=>t.id===p.technique);
    return `<div class="plan-card">
      <div class="pc-top">
        <div class="pc-name">${p.id}. ${p.name}</div>
        <div>${p.status}</div>
      </div>
      <div class="pc-row">
        <div class="pc-item">ë¸Œëœë“œ <span>${p.brand}</span></div>
        <div class="pc-item">ê¸°ë²• <span>${tech?tech.num+tech.name:'-'}</span></div>
      </div>
      <div class="pc-row">
        <div class="pc-item">A <span>${p.objectA}</span></div>
        <div class="pc-item">B <span>${p.transformB}</span></div>
        <div class="pc-item">${p.slide}</div>
      </div>
    </div>`;
  }).join('');
}

// ===================================================================
// TAB 4: PROMPT GENERATOR
// ===================================================================
function renderGenTechGrid() {
  const grid = document.getElementById('gen-tech-grid');
  grid.innerHTML = TECHNIQUES.map(t => `
    <div class="tech-opt ${selectedTech===t.id?'selected':''}" onclick="selectTechnique(${t.id})">
      <span class="to-num">${t.num}</span>
      <span class="to-name">${t.name}</span>
      <span class="to-tier badge tier-${t.tier.toLowerCase()}">${t.tier}</span>
    </div>
  `).join('');
}

function selectTechnique(id) {
  selectedTech = id;
  renderGenTechGrid();
}

function selectOpt(group, val, el) {
  genOpts[group] = val;
  el.parentElement.querySelectorAll('.opt-btn').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  if (group === 'bg') {
    document.getElementById('bg-custom').classList.toggle('hidden', val !== 'custom');
  }
}

function generatePrompt() {
  if (!selectedTech) { showToast('ê¸°ë²•ì„ ì„ íƒí•˜ì„¸ìš”'); return; }
  const a = document.getElementById('inputA').value.trim();
  const b = document.getElementById('inputB').value.trim();
  if (!a) { showToast('A(ì˜¤ë¸Œì œ)ë¥¼ ì…ë ¥í•˜ì„¸ìš”'); return; }
  if (!b) { showToast('B(ë³€í™˜)ë¥¼ ì…ë ¥í•˜ì„¸ìš”'); return; }

  let bg = genOpts.bg;
  if (bg === 'custom') {
    bg = document.getElementById('bg-custom').value.trim() || 'dark';
  }

  let template = PROMPT_TEMPLATES[selectedTech];
  const prompt = template
    .replace(/\{A\}/g, a)
    .replace(/\{B\}/g, b)
    .replace(/\{background\}/g, bg)
    .replace(/\{ar\}/g, genOpts.ar);

  document.getElementById('prompt-text').textContent = prompt;
  document.getElementById('prompt-result').classList.add('show');
  renderChecklist();
  showToast('í”„ë¡¬í”„íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤');
}

function copyPrompt() {
  const text = document.getElementById('prompt-text').textContent;
  navigator.clipboard.writeText(text).then(() => {
    showToast('ë³µì‚¬ ì™„ë£Œ!');
  }).catch(() => {
    // fallback
    const ta = document.createElement('textarea');
    ta.value = text; document.body.appendChild(ta);
    ta.select(); document.execCommand('copy');
    document.body.removeChild(ta);
    showToast('ë³µì‚¬ ì™„ë£Œ!');
  });
}

function renderChecklist() {
  const cl = document.getElementById('checklist');
  cl.innerHTML = '<h3>ê³µí†µ ê·œì¹™ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>' +
    COMMON_RULES.map((r,i) => `
      <label class="check-item">
        <input type="checkbox" id="chk-${i}"> ${r}
      </label>
    `).join('');
}

// ===================================================================
// UTILITY
// ===================================================================
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2200);
}

// ===================================================================
// INIT
// ===================================================================
// ===================================================================
// PASSWORD GATE
// ===================================================================
const GATE_PW = 'thereimage2026';
const gateEl = document.getElementById('gate');
const gatePwInput = document.getElementById('gate-pw');
const gateErr = document.getElementById('gate-err');

if (sessionStorage.getItem('ti_auth') === '1') {
  gateEl.classList.add('hidden');
}

function tryGate() {
  const val = gatePwInput.value.trim();
  if (val === GATE_PW) {
    sessionStorage.setItem('ti_auth', '1');
    gateEl.classList.add('hidden');
  } else {
    gateErr.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤';
    gatePwInput.value = '';
    gatePwInput.focus();
  }
}

gatePwInput.addEventListener('keydown', function(e) {
  if (e.key === 'Enter') tryGate();
});

// ===================================================================
// INIT
// ===================================================================
function init() {
  renderTierFilter();
  renderTechniques();
  startFlow();
  renderTypeSelect();
  renderStatusSummary();
  renderPlanFilter();
  renderDistChart();
  renderPlan();
  renderGenTechGrid();
}

init();
</script>
</body>
</html>
